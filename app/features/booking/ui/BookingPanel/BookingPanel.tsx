import { useState } from "react"
import BookingModal from "../BookingModal/BookingModal";
import { useBookingState } from "../../model/hooks/useBookingState";
import { BookingFormData } from "../../model/booking.types";

const BookingPanel = () => {
    const { open, data, openModal, closeModal, submit} = useBookingState();

    const handleSubmit = (formData: BookingFormData) => {
        submit(formData);

        closeModal();
    }

    return (
        <>
            <section className="booking-panel-container">
                <div className="booking-panel-block">
                    <div className="booking-panel-dates">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M21.6602 9.18103V14.5404C21.6602 19.309 21.6512 19.9258 21.5908 20.1371C21.4054 20.7752 20.8662 21.3186 20.2324 21.517C19.9782 21.5944 19.698 21.599 12.002 21.599C4.30129 21.599 4.0249 21.5946 3.77051 21.517C3.13685 21.3185 2.59846 20.7751 2.41309 20.1371C2.35272 19.9258 2.34375 19.3091 2.34375 14.5404V9.18103H21.6602ZM7.25879 16.7826C6.84496 16.7783 6.43949 16.7917 6.36621 16.809C5.75443 16.9644 5.63788 17.7227 6.18066 18.0375C6.31864 18.1194 6.40106 18.1283 7.17285 18.1283C7.94393 18.1283 8.02631 18.1192 8.16406 18.0375C8.62541 17.7658 8.62541 17.1538 8.16406 16.8822C8.03049 16.8004 7.93111 16.7912 7.25879 16.7826ZM12.0879 16.7826C11.6741 16.7783 11.2686 16.7917 11.1953 16.809C10.5835 16.9644 10.467 17.7227 11.0098 18.0375C11.1477 18.1194 11.2302 18.1283 12.002 18.1283C12.773 18.1283 12.8554 18.1192 12.9932 18.0375C13.4545 17.7658 13.4545 17.1538 12.9932 16.8822C12.8596 16.8004 12.7602 16.7912 12.0879 16.7826ZM16.917 16.7826C16.5032 16.7783 16.0977 16.7917 16.0244 16.809C15.4126 16.9644 15.296 17.7227 15.8389 18.0375C15.9768 18.1194 16.0593 18.1283 16.8311 18.1283C17.6021 18.1283 17.6845 18.1192 17.8223 18.0375C18.2836 17.7658 18.2836 17.1538 17.8223 16.8822C17.6887 16.8004 17.5894 16.7912 16.917 16.7826ZM7.25879 12.6439C6.84496 12.6396 6.43949 12.6521 6.36621 12.6693C5.75441 12.8247 5.63807 13.5829 6.18066 13.8978C6.31864 13.9797 6.40106 13.9886 7.17285 13.9886C7.94429 13.9886 8.0262 13.9796 8.16406 13.8978C8.62541 13.6262 8.62541 13.0142 8.16406 12.7425C8.03059 12.6608 7.93078 12.6525 7.25879 12.6439ZM12.0879 12.6439C11.6741 12.6396 11.2686 12.6521 11.1953 12.6693C10.5835 12.8246 10.4671 13.5829 11.0098 13.8978C11.1477 13.9797 11.2302 13.9886 12.002 13.9886C12.7734 13.9886 12.8553 13.9797 12.9932 13.8978C13.4545 13.6262 13.4545 13.0142 12.9932 12.7425C12.8597 12.6608 12.7599 12.6525 12.0879 12.6439ZM16.917 12.6439C16.5031 12.6396 16.0977 12.6521 16.0244 12.6693C15.4126 12.8246 15.2962 13.5829 15.8389 13.8978C15.9768 13.9797 16.0593 13.9886 16.8311 13.9886C17.6025 13.9886 17.6844 13.9797 17.8223 13.8978C18.2836 13.6262 18.2836 13.0142 17.8223 12.7425C17.6888 12.6608 17.589 12.6525 16.917 12.6439ZM15.7617 2.48669C15.9557 2.37044 16.3265 2.37045 16.5205 2.48669C16.7749 2.6419 16.831 2.79322 16.8311 3.31482V3.78064H18.4004C19.8181 3.78064 19.9955 3.78948 20.2324 3.86267C20.8662 4.061 21.4054 4.60442 21.5908 5.24255C21.6468 5.43226 21.6602 5.71255 21.6602 6.69958V7.92028H2.34375V6.69958C2.34375 5.71251 2.35707 5.43226 2.41309 5.24255C2.59845 4.60456 3.13687 4.06111 3.77051 3.86267C4.00765 3.78937 4.18497 3.78064 5.60352 3.78064H7.17285V3.31482C7.17286 2.79322 7.22903 2.6419 7.4834 2.48669C7.57814 2.4265 7.70312 2.4008 7.8623 2.40075C8.14256 2.40075 8.33745 2.50434 8.4668 2.7113C8.53999 2.83193 8.55273 2.93139 8.55273 3.31482V3.78064H15.4512V3.31482C15.4512 2.79322 15.5074 2.6419 15.7617 2.48669Z" fill="#266B84"/>
                        </svg>
                        
                    </div>
                    <div className="booking-panel-peoples">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="20" viewBox="0 0 17 20" fill="none">
                            <path d="M13.1641 9.70158C13.2921 9.80162 13.5635 10.0464 13.7715 10.2504C15.588 12.0269 16.6445 14.4873 16.6445 16.936C16.6445 17.3959 16.6284 17.564 16.5645 17.768C16.3724 18.4002 15.8402 18.9285 15.208 19.1205C14.96 19.2005 14.8025 19.2006 8.32227 19.2006C1.84125 19.2006 1.68454 19.2005 1.43652 19.1205C0.804347 18.9285 0.272132 18.4002 0.0800781 17.768C0.0161166 17.564 0 17.3959 0 16.936C1.75074e-05 14.2552 1.3128 11.4904 3.40137 9.76994C3.64474 9.56648 3.7088 9.53011 3.76074 9.56975C3.79275 9.59375 3.95314 9.73802 4.11719 9.89006C4.27721 10.0381 4.57339 10.2697 4.77344 10.4018C7.218 12.0342 10.4065 11.8065 12.5791 9.84221L12.9355 9.52189L13.1641 9.70158ZM7.38672 0.059003C7.81486 -0.0170109 8.78362 -0.0209219 9.21973 0.0550967C9.9358 0.179185 10.7042 0.495699 11.2803 0.90373C11.6483 1.1639 12.232 1.74376 12.5 2.11174C12.9361 2.71984 13.2527 3.47601 13.3848 4.22014C13.4608 4.66826 13.4608 5.56498 13.3848 6.0131C13.1967 7.09337 12.6959 8.02578 11.8877 8.80998C10.8955 9.77002 9.7274 10.2377 8.32324 10.2377C7.439 10.2377 6.74663 10.0779 5.98242 9.69377C5.4943 9.44571 5.08993 9.15 4.67383 8.7299C3.68155 7.72562 3.20117 6.54502 3.20117 5.11662C3.20118 4.23642 3.3701 3.50388 3.74219 2.77971C4.22237 1.83563 5.09064 0.975897 6.01074 0.523847C6.43484 0.315822 6.97866 0.135015 7.38672 0.059003Z" fill="#266B84"/>
                        </svg>
                        2 взрослых, 1 номер
                    </div>
                    <button className="booking-modal-btn" onClick={openModal}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="#FDFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M20.9984 21.0004L16.6484 16.6504" stroke="#FDFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>

                <BookingModal open={open} onClose={closeModal} onSubmit={handleSubmit}></BookingModal>
            </section>
        </>
    );
}

export default BookingPanel;